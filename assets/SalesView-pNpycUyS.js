import{r as t,c as f,w as l,V as _,o as v,a as r,e as V,f as h,g as k,h as p,x as y,A as x,G as I}from"./index-B1f6o2fm.js";const w={__name:"SalesView",setup(T){const i=t(10),g=t([{title:"訂單ID",key:"id",align:"start"},{title:"產品名稱",key:"productName"},{title:"金額 (USD)",key:"amount",align:"end"},{title:"日期",key:"date"}]),n=t([]),o=t(!0),d=t(0);async function c({page:u,itemsPerPage:a,sortBy:e}){o.value=!0;try{let s=`/sales?_page=${u}&_limit=${a}`;e.length>0&&(s+=`&_sort=${e[0].key}&_order=${e[0].order}`);const m=await I.get(s);n.value=m.data,d.value=parseInt(m.headers["x-total-count"])||0}catch(s){console.error("Failed to load sales data:",s)}finally{o.value=!1}}return(u,a)=>(v(),f(_,{fluid:""},{default:l(()=>[r(V,{rounded:"lg"},{default:l(()=>[r(h,{flat:""},{default:l(()=>[r(k,null,{default:l(()=>a[1]||(a[1]=[p("銷售紀錄",-1)])),_:1,__:[1]})]),_:1}),r(y,{"items-per-page":i.value,"onUpdate:itemsPerPage":a[0]||(a[0]=e=>i.value=e),headers:g.value,items:n.value,"items-length":d.value,loading:o.value,"item-value":"id","onUpdate:options":c},{"item.amount":l(({value:e})=>[p(" $"+x(e),1)]),_:1},8,["items-per-page","headers","items","items-length","loading"])]),_:1})]),_:1}))}};export{w as default};
